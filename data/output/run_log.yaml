config:
  paths:
    b03: raster_data/2023-09-10-00_00_2023-09-10-23_59_Sentinel-2_L2A_B03_(Raw).tiff
    b08: raster_data/2023-09-10-00_00_2023-09-10-23_59_Sentinel-2_L2A_B08_(Raw).tiff
    out_dir: data/interim/s2_preprocessed
    output_dir: data/output
    ndwi_time_dir: raster_data/ndwi_time
  processing:
    reference: b03
    resampling_continuous: bilinear
    resampling_mask: nearest
  ndwi:
    scale: 10000.0
    threshold: 0.1
    nodata: -9999.0
  tensor_denoise:
    kernel_size: 3
    threshold: 0.5
module_a:
  b03_preprocessed: data\interim\s2_preprocessed\B03_preprocessed.tif
  b08_preprocessed: data\interim\s2_preprocessed\B08_preprocessed.tif
  grid_ref:
    crs: EPSG:4326
    transform:
    - 0.0011612548828125028
    - 0.0
    - 21.237945556640625
    - 0.0
    - -0.0008941301178137575
    - 40.08122374895389
    width: 1250
    height: 915
    res:
    - 0.0011612548828125028
    - 0.0008941301178137575
module_b:
  ndwi: data\output\ndwi.tif
  flood_mask_raw: data\output\flood_mask_raw.tif
  flood_mask_filtered: data\output\flood_mask_filtered.tif
  valid_ratio: 0.9986072131147541
  params:
    ndwi_scale: 10000.0
    ndwi_threshold: 0.1
    tensor_kernel_size: 3
    tensor_threshold: 0.5
    ndwi_nodata: -9999.0
    mask_nodata: 255
module_ndwi_series:
  inputs_dir: raster_data\bands_time
  output_dir: raster_data\ndwi_time
  num_dates: 3
  outputs:
  - raster_data\ndwi_time\2023-08-31-00_00_2023-08-31-23_59_Sentinel-2_L2A_NDWI.tiff
  - raster_data\ndwi_time\2023-09-10-00_00_2023-09-10-23_59_Sentinel-2_L2A_NDWI.tiff
  - raster_data\ndwi_time\2023-09-15-00_00_2023-09-15-23_59_Sentinel-2_L2A_NDWI.tiff
  scale: 10000.0
  nodata: -9999.0
module_cube:
  cube_stats: data\output\cube_stats.yaml
  inputs:
  - raster_data\ndwi_time\2023-08-31-00_00_2023-08-31-23_59_Sentinel-2_L2A_NDWI.tiff
  - raster_data\ndwi_time\2023-09-10-00_00_2023-09-10-23_59_Sentinel-2_L2A_NDWI.tiff
  - raster_data\ndwi_time\2023-09-15-00_00_2023-09-15-23_59_Sentinel-2_L2A_NDWI.tiff
  reference_grid:
    crs: EPSG:4326
    transform:
    - 0.0001636964000000006
    - 0.0
    - 21.761169
    - 0.0
    - -0.00012637485242030587
    - 39.598281
    width: 2500
    height: 1694
  threshold: 0.1
  stats:
    '2023-08-31':
      mean: -0.5764465928077698
      min: -0.8963752388954163
      max: 0.7919429540634155
      flooded_ratio_ndwi_gt_thr: 0.00035914994077757
    '2023-09-10':
      mean: -0.26416024565696716
      min: -0.9584032893180847
      max: 0.861764669418335
      flooded_ratio_ndwi_gt_thr: 0.15774191915988922
    '2023-09-15':
      mean: -0.3142000734806061
      min: -0.8646230697631836
      max: 0.992255449295044
      flooded_ratio_ndwi_gt_thr: 0.06567084044218063
  outputs:
    ndwi_change_last_minus_first: data\output\ndwi_change_last_minus_first.tif
    ndwi_time_mean: data\output\ndwi_time_mean.tif
